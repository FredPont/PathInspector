package fileutil

import (
	"fmt"
	"math/rand"
	"time"
)

// spinner function that prints a rotating line
func Spinner(stop chan struct{}) {
	// create a slice of characters for the spinner animation
	//chars := []string{"|", "/", "-", "\\"}
	chars := RandSpinner()

	// create a channel that will send a value after 3 seconds
	//stop := time.After(3 * time.Second)

	// create a loop that will run until the channel sends a value
	for {
		// iterate over the characters
		for _, c := range chars {
			// print the character and a backspace
			fmt.Printf("\r%s\b", c)

			// sleep for 500 milliseconds
			time.Sleep(500 * time.Millisecond)

			// check if the channel has sent a value
			select {
			case <-stop:
				// print a newline and return from the function
				fmt.Println()
				return
			default:
				// do nothing and continue the loop
			}
		}
	}
}

// randSpinner return a random spinner
func RandSpinner() []string {
	// spinners Credits : https://github.com/schollz/progressbar/
	var spinners = map[int][]string{
		0:  {"â†", "â†–", "â†‘", "â†—", "â†’", "â†˜", "â†“", "â†™"},
		1:  {"â–", "â–ƒ", "â–„", "â–…", "â–†", "â–‡", "â–ˆ", "â–‡", "â–†", "â–…", "â–„", "â–ƒ", "â–"},
		2:  {"â––", "â–˜", "â–", "â–—"},
		3:  {"â”¤", "â”˜", "â”´", "â””", "â”œ", "â”Œ", "â”¬", "â”"},
		4:  {"â—¢", "â—£", "â—¤", "â—¥"},
		5:  {"â—°", "â—³", "â—²", "â—±"},
		6:  {"â—´", "â—·", "â—¶", "â—µ"},
		7:  {"â—", "â—“", "â—‘", "â—’"},
		8:  {".", "o", "O", "@", "*"},
		9:  {"|", "/", "-", "\\"},
		10: {"â—¡â—¡", "âŠ™âŠ™", "â— â— "},
		11: {"â£¾", "â£½", "â£»", "â¢¿", "â¡¿", "â£Ÿ", "â£¯", "â£·"},
		12: {">))'>", " >))'>", "  >))'>", "   >))'>", "    >))'>", "   <'((<", "  <'((<", " <'((<"},
		13: {"â ", "â ‚", "â „", "â¡€", "â¢€", "â  ", "â ", "â ˆ"},
		14: {"â ‹", "â ™", "â ¹", "â ¸", "â ¼", "â ´", "â ¦", "â §", "â ‡", "â "},
		15: {"a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z"},
		16: {"â–‰", "â–Š", "â–‹", "â–Œ", "â–", "â–", "â–", "â–", "â–", "â–Œ", "â–‹", "â–Š", "â–‰"},
		17: {"â– ", "â–¡", "â–ª", "â–«"},
		18: {"â†", "â†‘", "â†’", "â†“"},
		19: {"â•«", "â•ª"},
		20: {"â‡", "â‡–", "â‡‘", "â‡—", "â‡’", "â‡˜", "â‡“", "â‡™"},
		21: {"â ", "â ", "â ‰", "â ™", "â š", "â ’", "â ‚", "â ‚", "â ’", "â ²", "â ´", "â ¤", "â „", "â „", "â ¤", "â  ", "â  ", "â ¤", "â ¦", "â –", "â ’", "â ", "â ", "â ’", "â “", "â ‹", "â ‰", "â ˆ", "â ˆ"},
		22: {"â ˆ", "â ‰", "â ‹", "â “", "â ’", "â ", "â ", "â ’", "â –", "â ¦", "â ¤", "â  ", "â  ", "â ¤", "â ¦", "â –", "â ’", "â ", "â ", "â ’", "â “", "â ‹", "â ‰", "â ˆ"},
		23: {"â ", "â ‰", "â ™", "â š", "â ’", "â ‚", "â ‚", "â ’", "â ²", "â ´", "â ¤", "â „", "â „", "â ¤", "â ´", "â ²", "â ’", "â ‚", "â ‚", "â ’", "â š", "â ™", "â ‰", "â "},
		24: {"â ‹", "â ™", "â š", "â ’", "â ‚", "â ‚", "â ’", "â ²", "â ´", "â ¦", "â –", "â ’", "â ", "â ", "â ’", "â “", "â ‹"},
		25: {"ï½¦", "ï½§", "ï½¨", "ï½©", "ï½ª", "ï½«", "ï½¬", "ï½­", "ï½®", "ï½¯", "ï½±", "ï½²", "ï½³", "ï½´", "ï½µ", "ï½¶", "ï½·", "ï½¸", "ï½¹", "ï½º", "ï½»", "ï½¼", "ï½½", "ï½¾", "ï½¿", "ï¾€", "ï¾", "ï¾‚", "ï¾ƒ", "ï¾„", "ï¾…", "ï¾†", "ï¾‡", "ï¾ˆ", "ï¾‰", "ï¾Š", "ï¾‹", "ï¾Œ", "ï¾", "ï¾", "ï¾", "ï¾", "ï¾‘", "ï¾’", "ï¾“", "ï¾”", "ï¾•", "ï¾–", "ï¾—", "ï¾˜", "ï¾™", "ï¾š", "ï¾›", "ï¾œ", "ï¾"},
		26: {".", "..", "..."},
		27: {"â–", "â–‚", "â–ƒ", "â–„", "â–…", "â–†", "â–‡", "â–ˆ", "â–‰", "â–Š", "â–‹", "â–Œ", "â–", "â–", "â–", "â–", "â–", "â–", "â–Œ", "â–‹", "â–Š", "â–‰", "â–ˆ", "â–‡", "â–†", "â–…", "â–„", "â–ƒ", "â–‚", "â–"},
		28: {".", "o", "O", "Â°", "O", "o", "."},
		29: {"+", "x"},
		30: {"v", "<", "^", ">"},
		31: {">>--->", " >>--->", "  >>--->", "   >>--->", "    >>--->", "    <---<<", "   <---<<", "  <---<<", " <---<<", "<---<<"},
		32: {"|", "||", "|||", "||||", "|||||", "|||||||", "||||||||", "|||||||", "||||||", "|||||", "||||", "|||", "||", "|"},
		33: {"[          ]", "[=         ]", "[==        ]", "[===       ]", "[====      ]", "[=====     ]", "[======    ]", "[=======   ]", "[========  ]", "[========= ]", "[==========]"},
		34: {"(*---------)", "(-*--------)", "(--*-------)", "(---*------)", "(----*-----)", "(-----*----)", "(------*---)", "(-------*--)", "(--------*-)", "(---------*)"},
		35: {"â–ˆâ–’â–’â–’â–’â–’â–’â–’â–’â–’", "â–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’â–’â–’", "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’â–’â–’", "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–’â–’â–’", "â–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆâ–ˆ"},
		36: {"[                    ]", "[=>                  ]", "[===>                ]", "[=====>              ]", "[======>             ]", "[========>           ]", "[==========>         ]", "[============>       ]", "[==============>     ]", "[================>   ]", "[==================> ]", "[===================>]"},
		37: {"á€", "á€"},
		38: {"â–Œ", "â–€", "â–â–„"},
		39: {"ğŸŒ", "ğŸŒ", "ğŸŒ"},
		40: {"â—œ", "â—", "â—", "â—Ÿ"},
		41: {"â¬’", "â¬”", "â¬“", "â¬•"},
		42: {"â¬–", "â¬˜", "â¬—", "â¬™"},
		43: {"[>>>          >]", "[]>>>>        []", "[]  >>>>      []", "[]    >>>>    []", "[]      >>>>  []", "[]        >>>>[]", "[>>          >>]"},
		44: {"â™ ", "â™£", "â™¥", "â™¦"},
		45: {"â", "âŸ", "â ", "â¡", "â ", "âŸ"},
		46: {"  |  ", ` \   `, "_    ", ` \   `, "  |  ", "   / ", "    _", "   / "},
		47: {"  . . . .", ".   . . .", ". .   . .", ". . .   .", ". . . .  ", ". . . . ."},
		48: {" |     ", "  /    ", "   _   ", `    \  `, "     | ", `    \  `, "   _   ", "  /    "},
		49: {"âº", "â»", "â¼", "â½", "â¼", "â»"},
		50: {"â–¹â–¹â–¹â–¹â–¹", "â–¸â–¹â–¹â–¹â–¹", "â–¹â–¸â–¹â–¹â–¹", "â–¹â–¹â–¸â–¹â–¹", "â–¹â–¹â–¹â–¸â–¹", "â–¹â–¹â–¹â–¹â–¸"},
		51: {"[    ]", "[   =]", "[  ==]", "[ ===]", "[====]", "[=== ]", "[==  ]", "[=   ]"},
		52: {"( â—    )", "(  â—   )", "(   â—  )", "(    â— )", "(     â—)", "(    â— )", "(   â—  )", "(  â—   )", "( â—    )"},
		53: {"âœ¶", "âœ¸", "âœ¹", "âœº", "âœ¹", "âœ·"},
		54: {"â–|\\____________â–Œ", "â–_|\\___________â–Œ", "â–__|\\__________â–Œ", "â–___|\\_________â–Œ", "â–____|\\________â–Œ", "â–_____|\\_______â–Œ", "â–______|\\______â–Œ", "â–_______|\\_____â–Œ", "â–________|\\____â–Œ", "â–_________|\\___â–Œ", "â–__________|\\__â–Œ", "â–___________|\\_â–Œ", "â–____________|\\â–Œ", "â–____________/|â–Œ", "â–___________/|_â–Œ", "â–__________/|__â–Œ", "â–_________/|___â–Œ", "â–________/|____â–Œ", "â–_______/|_____â–Œ", "â–______/|______â–Œ", "â–_____/|_______â–Œ", "â–____/|________â–Œ", "â–___/|_________â–Œ", "â–__/|__________â–Œ", "â–_/|___________â–Œ", "â–/|____________â–Œ"},
		55: {"â–â ‚       â–Œ", "â–â ˆ       â–Œ", "â– â ‚      â–Œ", "â– â        â–Œ", "â–  â¡€     â–Œ", "â–  â       â–Œ", "â–   â ‚    â–Œ", "â–   â ˆ    â–Œ", "â–    â ‚   â–Œ", "â–    â     â–Œ", "â–     â¡€  â–Œ", "â–     â    â–Œ", "â–      â ‚ â–Œ", "â–      â ˆ â–Œ", "â–       â ‚â–Œ", "â–       â  â–Œ", "â–       â¡€â–Œ", "â–      â   â–Œ", "â–      â ‚ â–Œ", "â–     â ˆ  â–Œ", "â–     â ‚  â–Œ", "â–    â     â–Œ", "â–    â¡€   â–Œ", "â–   â      â–Œ", "â–   â ‚    â–Œ", "â–  â ˆ     â–Œ", "â–  â ‚     â–Œ", "â– â        â–Œ", "â– â¡€      â–Œ", "â–â         â–Œ"},
		56: {"Â¿", "?"},
		57: {"â¢¹", "â¢º", "â¢¼", "â£¸", "â£‡", "â¡§", "â¡—", "â¡"},
		58: {"â¢„", "â¢‚", "â¢", "â¡", "â¡ˆ", "â¡", "â¡ "},
		59: {".  ", ".. ", "...", " ..", "  .", "   "},
		60: {".", "o", "O", "Â°", "O", "o", "."},
		61: {"â–“", "â–’", "â–‘"},
		62: {"â–Œ", "â–€", "â–", "â–„"},
		63: {"âŠ¶", "âŠ·"},
		64: {"â–ª", "â–«"},
		65: {"â–¡", "â– "},
		66: {"â–®", "â–¯"},
		67: {"-", "=", "â‰¡"},
		68: {"d", "q", "p", "b"},
		69: {"âˆ™âˆ™âˆ™", "â—âˆ™âˆ™", "âˆ™â—âˆ™", "âˆ™âˆ™â—", "âˆ™âˆ™âˆ™"},
		70: {"ğŸŒ‘ ", "ğŸŒ’ ", "ğŸŒ“ ", "ğŸŒ” ", "ğŸŒ• ", "ğŸŒ– ", "ğŸŒ— ", "ğŸŒ˜ "},
		71: {"â˜—", "â˜–"},
		72: {"â§‡", "â§†"},
		73: {"â—‰", "â—"},
		74: {"ãŠ‚", "ãŠ€", "ãŠ"},
		75: {"â¦¾", "â¦¿"},
	}

	n := rand.Intn(len(spinners))
	return spinners[n]
}
